<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Class SpannerConnection
   | Google.Cloud.Spanner.Data </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Class SpannerConnection
   | Google.Cloud.Spanner.Data ">
    <meta name="generator" content="docfx 2.50.0.0">
    
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="Google.Cloud.Spanner.Data.SpannerConnection">
  
  
  <h1 id="Google_Cloud_Spanner_Data_SpannerConnection" data-uid="Google.Cloud.Spanner.Data.SpannerConnection" class="text-break">Class SpannerConnection
  </h1>
  <div class="markdown level0 summary"><p>Represents a connection to a single Spanner database.
When opened, <a class="xref" href="Google.Cloud.Spanner.Data.SpannerConnection.html">SpannerConnection</a> will acquire and maintain a session
with the target Spanner database.
<a class="xref" href="Google.Cloud.Spanner.Data.SpannerCommand.html">SpannerCommand</a> instances using this <a class="xref" href="Google.Cloud.Spanner.Data.SpannerConnection.html">SpannerConnection</a>
will use this session to execute their operation. Concurrent read operations can
share this session, but concurrent write operations may cause additional sessions
to be opened to the database.
Underlying sessions with the Spanner database are pooled and are closed after a
configurable
<see>
<cref>SpannerOptions.PoolEvictionDelay</cref>
</see>
.</p>
</div>
  <div class="markdown level0 conceptual"></div>
  <div class="inheritance">
    <h5>Inheritance</h5>
    <div class="level0"><span class="xref">System.Object</span></div>
    <div class="level1"><span class="xref">System.MarshalByRefObject</span></div>
    <div class="level2"><span class="xref">System.ComponentModel.Component</span></div>
    <div class="level3"><span class="xref">System.Data.Common.DbConnection</span></div>
    <div class="level4"><span class="xref">SpannerConnection</span></div>
  </div>
  <div classs="implements">
    <h5>Implements</h5>
    <div><span class="xref">System.ComponentModel.IComponent</span></div>
    <div><span class="xref">System.Data.IDbConnection</span></div>
    <div><span class="xref">System.IDisposable</span></div>
  </div>
  <div class="inheritedMembers">
    <h5>Inherited Members</h5>
    <div>
      <span class="xref">System.Data.Common.DbConnection.BeginTransaction(System.Data.IsolationLevel)</span>
    </div>
    <div>
      <span class="xref">System.Data.Common.DbConnection.CreateCommand()</span>
    </div>
    <div>
      <span class="xref">System.Data.Common.DbConnection.GetSchema()</span>
    </div>
    <div>
      <span class="xref">System.Data.Common.DbConnection.GetSchema(System.String)</span>
    </div>
    <div>
      <span class="xref">System.Data.Common.DbConnection.GetSchema(System.String, System.String[])</span>
    </div>
    <div>
      <span class="xref">System.Data.Common.DbConnection.OnStateChange(System.Data.StateChangeEventArgs)</span>
    </div>
    <div>
      <span class="xref">System.Data.Common.DbConnection.OpenAsync()</span>
    </div>
    <div>
      <span class="xref">System.Data.Common.DbConnection.System.Data.IDbConnection.BeginTransaction()</span>
    </div>
    <div>
      <span class="xref">System.Data.Common.DbConnection.System.Data.IDbConnection.BeginTransaction(System.Data.IsolationLevel)</span>
    </div>
    <div>
      <span class="xref">System.Data.Common.DbConnection.System.Data.IDbConnection.CreateCommand()</span>
    </div>
    <div>
      <span class="xref">System.Data.Common.DbConnection.ConnectionTimeout</span>
    </div>
    <div>
      <span class="xref">System.Data.Common.DbConnection.StateChange</span>
    </div>
    <div>
      <span class="xref">System.ComponentModel.Component.Dispose()</span>
    </div>
    <div>
      <span class="xref">System.ComponentModel.Component.GetService(System.Type)</span>
    </div>
    <div>
      <span class="xref">System.ComponentModel.Component.ToString()</span>
    </div>
    <div>
      <span class="xref">System.ComponentModel.Component.CanRaiseEvents</span>
    </div>
    <div>
      <span class="xref">System.ComponentModel.Component.Container</span>
    </div>
    <div>
      <span class="xref">System.ComponentModel.Component.DesignMode</span>
    </div>
    <div>
      <span class="xref">System.ComponentModel.Component.Events</span>
    </div>
    <div>
      <span class="xref">System.ComponentModel.Component.Site</span>
    </div>
    <div>
      <span class="xref">System.ComponentModel.Component.Disposed</span>
    </div>
    <div>
      <span class="xref">System.MarshalByRefObject.GetLifetimeService()</span>
    </div>
    <div>
      <span class="xref">System.MarshalByRefObject.InitializeLifetimeService()</span>
    </div>
    <div>
      <span class="xref">System.MarshalByRefObject.MemberwiseClone(System.Boolean)</span>
    </div>
    <div>
      <span class="xref">System.Object.GetHashCode()</span>
    </div>
    <div>
      <span class="xref">System.Object.GetType()</span>
    </div>
    <div>
      <span class="xref">System.Object.MemberwiseClone()</span>
    </div>
  </div>
  <h6><strong>Namespace</strong>: <a class="xref" href="Google.Cloud.Spanner.Data.html">Google.Cloud.Spanner.Data</a></h6>
  <h6><strong>Assembly</strong>: Google.Cloud.Spanner.Data.dll</h6>
  <h5 id="Google_Cloud_Spanner_Data_SpannerConnection_syntax">Syntax</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public sealed class SpannerConnection : DbConnection, IComponent, IDbConnection, IDisposable</code></pre>
  </div>
  <h3 id="constructors">Constructors
  </h3>
  <a id="Google_Cloud_Spanner_Data_SpannerConnection__ctor_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.#ctor*"></a>
  <h4 id="Google_Cloud_Spanner_Data_SpannerConnection__ctor" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.#ctor">SpannerConnection()</h4>
  <div class="markdown level1 summary"><p>Creates a SpannerConnection with no datasource or credential specified.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public SpannerConnection()</code></pre>
  </div>
  <a id="Google_Cloud_Spanner_Data_SpannerConnection__ctor_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.#ctor*"></a>
  <h4 id="Google_Cloud_Spanner_Data_SpannerConnection__ctor_Google_Cloud_Spanner_Data_SpannerConnectionStringBuilder_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.#ctor(Google.Cloud.Spanner.Data.SpannerConnectionStringBuilder)">SpannerConnection(SpannerConnectionStringBuilder)</h4>
  <div class="markdown level1 summary"><p>Creates a SpannerConnection with a datasource contained in connectionString.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public SpannerConnection(SpannerConnectionStringBuilder connectionStringBuilder)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Google.Cloud.Spanner.Data.SpannerConnectionStringBuilder.html">SpannerConnectionStringBuilder</a></td>
        <td><span class="parametername">connectionStringBuilder</span></td>
        <td><p>A SpannerConnectionStringBuilder containing a formatted connection string.  Must not be null.</p>
</td>
      </tr>
    </tbody>
  </table>
  <a id="Google_Cloud_Spanner_Data_SpannerConnection__ctor_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.#ctor*"></a>
  <h4 id="Google_Cloud_Spanner_Data_SpannerConnection__ctor_System_String_Grpc_Core_ChannelCredentials_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.#ctor(System.String,Grpc.Core.ChannelCredentials)">SpannerConnection(String, ChannelCredentials)</h4>
  <div class="markdown level1 summary"><p>Creates a SpannerConnection with a datasource contained in connectionString
and optional credential information supplied in connectionString or the credential
argument.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public SpannerConnection(string connectionString, ChannelCredentials credentials = null)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><span class="parametername">connectionString</span></td>
        <td><p>A Spanner formatted connection string. This is usually of the form
<code>Data Source=projects/{project}/instances/{instance}/databases/{database};[Host={hostname};][Port={portnumber}]</code></p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="Grpc.Core.ChannelCredentials.html">ChannelCredentials</a></td>
        <td><span class="parametername">credentials</span></td>
        <td><p>An optional credential for operations to be performed on the Spanner database.  May be null.</p>
</td>
      </tr>
    </tbody>
  </table>
  <div>
  <h5 id="Google_Cloud_Spanner_Data_SpannerConnection__ctor_System_String_Grpc_Core_ChannelCredentials__snippet">Sample code</h5>
  <div class="markdown level1"><pre><code class="lang-cs">string connectionString = &quot;Data Source=projects/my-project/instances/my-instance/databases/my-db&quot;;
SpannerConnection connection = new SpannerConnection(connectionString);
Console.WriteLine(connection.Project);
Console.WriteLine(connection.SpannerInstance);
Console.WriteLine(connection.Database);
</code></pre></div>
  </div>
  <h3 id="properties">Properties
  </h3>
  <a id="Google_Cloud_Spanner_Data_SpannerConnection_ConnectionString_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.ConnectionString*"></a>
  <h4 id="Google_Cloud_Spanner_Data_SpannerConnection_ConnectionString" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.ConnectionString">ConnectionString</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public override string ConnectionString { get; set; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 class="overrides">Overrides</h5>
  <div><span class="xref">System.Data.Common.DbConnection.ConnectionString</span></div>
  <a id="Google_Cloud_Spanner_Data_SpannerConnection_Database_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.Database*"></a>
  <h4 id="Google_Cloud_Spanner_Data_SpannerConnection_Database" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.Database">Database</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public override string Database { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 class="overrides">Overrides</h5>
  <div><span class="xref">System.Data.Common.DbConnection.Database</span></div>
  <a id="Google_Cloud_Spanner_Data_SpannerConnection_DataSource_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.DataSource*"></a>
  <h4 id="Google_Cloud_Spanner_Data_SpannerConnection_DataSource" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.DataSource">DataSource</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public override string DataSource { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 class="overrides">Overrides</h5>
  <div><span class="xref">System.Data.Common.DbConnection.DataSource</span></div>
  <a id="Google_Cloud_Spanner_Data_SpannerConnection_DbProviderFactory_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.DbProviderFactory*"></a>
  <h4 id="Google_Cloud_Spanner_Data_SpannerConnection_DbProviderFactory" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.DbProviderFactory">DbProviderFactory</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected override DbProviderFactory DbProviderFactory { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Data.Common.DbProviderFactory</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 class="overrides">Overrides</h5>
  <div><span class="xref">System.Data.Common.DbConnection.DbProviderFactory</span></div>
  <a id="Google_Cloud_Spanner_Data_SpannerConnection_EnlistInTransaction_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.EnlistInTransaction*"></a>
  <h4 id="Google_Cloud_Spanner_Data_SpannerConnection_EnlistInTransaction" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.EnlistInTransaction">EnlistInTransaction</h4>
  <div class="markdown level1 summary"><p>Gets or Sets whether to participate in the active <span class="xref">System.Transactions.TransactionScope</span></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public bool EnlistInTransaction { get; set; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Boolean</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <a id="Google_Cloud_Spanner_Data_SpannerConnection_LogCommitStats_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.LogCommitStats*"></a>
  <h4 id="Google_Cloud_Spanner_Data_SpannerConnection_LogCommitStats" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.LogCommitStats">LogCommitStats</h4>
  <div class="markdown level1 summary"><p>Request commit statistics for all read/write transactions throughout the
lifetime of the connection and log these. This value is set as the
default for read/write transactions created by this connection, and
is used for statements that are executed on this connection without
a transaction.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public bool LogCommitStats { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Boolean</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Google_Cloud_Spanner_Data_SpannerConnection_LogCommitStats_remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>Commit statistics that are returned for a transaction are logged using the
logger of this connection. Applications can set a custom logger on the
connection to log the output to a different destination.
<a class="xref" href="Google.Cloud.Spanner.V1.Internal.Logging.Logger.html#Google_Cloud_Spanner_V1_Internal_Logging_Logger_LogCommitStats_Google_Cloud_Spanner_V1_CommitRequest_Google_Cloud_Spanner_V1_CommitResponse_">LogCommitStats(CommitRequest, CommitResponse)</a></p>
</div>
  <a id="Google_Cloud_Spanner_Data_SpannerConnection_Project_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.Project*"></a>
  <h4 id="Google_Cloud_Spanner_Data_SpannerConnection_Project" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.Project">Project</h4>
  <div class="markdown level1 summary"><p>The Spanner project name.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public string Project { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <a id="Google_Cloud_Spanner_Data_SpannerConnection_QueryOptions_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.QueryOptions*"></a>
  <h4 id="Google_Cloud_Spanner_Data_SpannerConnection_QueryOptions" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.QueryOptions">QueryOptions</h4>
  <div class="markdown level1 summary"><p>Query options to use throughout the lifetime of the connection when
running SQL and streaming SQL requests.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public QueryOptions QueryOptions { get; set; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Google.Cloud.Spanner.Data.QueryOptions.html">QueryOptions</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <a id="Google_Cloud_Spanner_Data_SpannerConnection_ServerVersion_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.ServerVersion*"></a>
  <h4 id="Google_Cloud_Spanner_Data_SpannerConnection_ServerVersion" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.ServerVersion">ServerVersion</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public override string ServerVersion { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 class="overrides">Overrides</h5>
  <div><span class="xref">System.Data.Common.DbConnection.ServerVersion</span></div>
  <a id="Google_Cloud_Spanner_Data_SpannerConnection_SpannerInstance_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.SpannerInstance*"></a>
  <h4 id="Google_Cloud_Spanner_Data_SpannerConnection_SpannerInstance" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.SpannerInstance">SpannerInstance</h4>
  <div class="markdown level1 summary"><p>The Spanner instance name</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public string SpannerInstance { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <a id="Google_Cloud_Spanner_Data_SpannerConnection_State_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.State*"></a>
  <h4 id="Google_Cloud_Spanner_Data_SpannerConnection_State" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.State">State</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public override ConnectionState State { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Data.ConnectionState</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 class="overrides">Overrides</h5>
  <div><span class="xref">System.Data.Common.DbConnection.State</span></div>
  <h3 id="methods">Methods
  </h3>
  <a id="Google_Cloud_Spanner_Data_SpannerConnection_BeginDbTransaction_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.BeginDbTransaction*"></a>
  <h4 id="Google_Cloud_Spanner_Data_SpannerConnection_BeginDbTransaction_System_Data_IsolationLevel_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.BeginDbTransaction(System.Data.IsolationLevel)">BeginDbTransaction(IsolationLevel)</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected override DbTransaction BeginDbTransaction(IsolationLevel isolationLevel)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Data.IsolationLevel</span></td>
        <td><span class="parametername">isolationLevel</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Data.Common.DbTransaction</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 class="overrides">Overrides</h5>
  <div><span class="xref">System.Data.Common.DbConnection.BeginDbTransaction(System.Data.IsolationLevel)</span></div>
  <a id="Google_Cloud_Spanner_Data_SpannerConnection_BeginReadOnlyTransaction_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.BeginReadOnlyTransaction*"></a>
  <h4 id="Google_Cloud_Spanner_Data_SpannerConnection_BeginReadOnlyTransaction" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.BeginReadOnlyTransaction">BeginReadOnlyTransaction()</h4>
  <div class="markdown level1 summary"><p>Begins a read-only transaction.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public SpannerTransaction BeginReadOnlyTransaction()</code></pre>
  </div>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Google.Cloud.Spanner.Data.SpannerTransaction.html">SpannerTransaction</a></td>
        <td><p>The newly created <a class="xref" href="Google.Cloud.Spanner.Data.SpannerTransaction.html">SpannerTransaction</a>.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Google_Cloud_Spanner_Data_SpannerConnection_BeginReadOnlyTransaction_remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>
Read-only transactions are preferred if possible because they do not impose locks internally.
Read-only transactions run with strong consistency and return the latest copy of data.
</p>
<p>This method is thread safe.</p>
</div>
  <a id="Google_Cloud_Spanner_Data_SpannerConnection_BeginReadOnlyTransaction_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.BeginReadOnlyTransaction*"></a>
  <h4 id="Google_Cloud_Spanner_Data_SpannerConnection_BeginReadOnlyTransaction_Google_Cloud_Spanner_Data_TimestampBound_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.BeginReadOnlyTransaction(Google.Cloud.Spanner.Data.TimestampBound)">BeginReadOnlyTransaction(TimestampBound)</h4>
  <div class="markdown level1 summary"><p>Begins a read-only transaction using the provided <a class="xref" href="Google.Cloud.Spanner.Data.TimestampBound.html">TimestampBound</a> to control the read timestamp
and/or staleness of data.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public SpannerTransaction BeginReadOnlyTransaction(TimestampBound targetReadTimestamp)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Google.Cloud.Spanner.Data.TimestampBound.html">TimestampBound</a></td>
        <td><span class="parametername">targetReadTimestamp</span></td>
        <td><p>Specifies the timestamp or allowed staleness of data. Must not be null.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Google.Cloud.Spanner.Data.SpannerTransaction.html">SpannerTransaction</a></td>
        <td><p>The newly created <a class="xref" href="Google.Cloud.Spanner.Data.SpannerTransaction.html">SpannerTransaction</a>.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Google_Cloud_Spanner_Data_SpannerConnection_BeginReadOnlyTransaction_Google_Cloud_Spanner_Data_TimestampBound__remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>
Read-only transactions are preferred if possible because they do not impose locks internally.
Read-only transactions run with strong consistency and return the latest copy of data.
</p>
<p>This method is thread safe.</p>
</div>
  <a id="Google_Cloud_Spanner_Data_SpannerConnection_BeginReadOnlyTransaction_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.BeginReadOnlyTransaction*"></a>
  <h4 id="Google_Cloud_Spanner_Data_SpannerConnection_BeginReadOnlyTransaction_Google_Cloud_Spanner_Data_TransactionId_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.BeginReadOnlyTransaction(Google.Cloud.Spanner.Data.TransactionId)">BeginReadOnlyTransaction(TransactionId)</h4>
  <div class="markdown level1 summary"><p>Begins a read-only transaction using the provided <a class="xref" href="Google.Cloud.Spanner.Data.TransactionId.html">TransactionId</a> to refer to an existing server-side transaction.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public SpannerTransaction BeginReadOnlyTransaction(TransactionId transactionId)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Google.Cloud.Spanner.Data.TransactionId.html">TransactionId</a></td>
        <td><span class="parametername">transactionId</span></td>
        <td><p>Specifies the transaction ID of an existing read-only transaction.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Google.Cloud.Spanner.Data.SpannerTransaction.html">SpannerTransaction</a></td>
        <td><p>A <a class="xref" href="Google.Cloud.Spanner.Data.SpannerTransaction.html">SpannerTransaction</a> attached to the existing transaction represented by
<code data-dev-comment-type="paramref" class="paramref">transactionId</code>.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Google_Cloud_Spanner_Data_SpannerConnection_BeginReadOnlyTransaction_Google_Cloud_Spanner_Data_TransactionId__remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>Read-only transactions are preferred if possible because they do not impose locks internally.
Providing a transaction ID will connect to an already created transaction which is useful
for batch reads. This method differs from <a class="xref" href="Google.Cloud.Spanner.Data.SpannerConnection.html#Google_Cloud_Spanner_Data_SpannerConnection_BeginReadOnlyTransaction">BeginReadOnlyTransaction()</a>
and <a class="xref" href="Google.Cloud.Spanner.Data.SpannerConnection.html#Google_Cloud_Spanner_Data_SpannerConnection_BeginReadOnlyTransaction_Google_Cloud_Spanner_Data_TimestampBound_">BeginReadOnlyTransaction(TimestampBound)</a> as it
uses an existing transaction rather than creating a new server-side transaction.</p>
</div>
  <a id="Google_Cloud_Spanner_Data_SpannerConnection_BeginReadOnlyTransactionAsync_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.BeginReadOnlyTransactionAsync*"></a>
  <h4 id="Google_Cloud_Spanner_Data_SpannerConnection_BeginReadOnlyTransactionAsync_Google_Cloud_Spanner_Data_TimestampBound_System_Threading_CancellationToken_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.BeginReadOnlyTransactionAsync(Google.Cloud.Spanner.Data.TimestampBound,System.Threading.CancellationToken)">BeginReadOnlyTransactionAsync(TimestampBound, CancellationToken)</h4>
  <div class="markdown level1 summary"><p>Begins a read-only transaction using the optionally provided <span class="xref">System.Threading.CancellationToken</span>
and provided <a class="xref" href="Google.Cloud.Spanner.Data.TimestampBound.html">TimestampBound</a> to control the read timestamp and/or staleness
of data.
Read transactions are preferred if possible because they do not impose locks internally.
Stale read-only transactions can execute more quickly than strong or read-write transactions,.
This method is thread safe.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Task&lt;SpannerTransaction&gt; BeginReadOnlyTransactionAsync(TimestampBound targetReadTimestamp, CancellationToken cancellationToken = default(CancellationToken))</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Google.Cloud.Spanner.Data.TimestampBound.html">TimestampBound</a></td>
        <td><span class="parametername">targetReadTimestamp</span></td>
        <td><p>Specifies the timestamp or allowed staleness of data. Must not be null.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.Threading.CancellationToken</span></td>
        <td><span class="parametername">cancellationToken</span></td>
        <td><p>An optional token for canceling the call.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Threading.Tasks.Task</span>&lt;<a class="xref" href="Google.Cloud.Spanner.Data.SpannerTransaction.html">SpannerTransaction</a>&gt;</td>
        <td><p>The newly created <a class="xref" href="Google.Cloud.Spanner.Data.SpannerTransaction.html">SpannerTransaction</a>.</p>
</td>
      </tr>
    </tbody>
  </table>
  <a id="Google_Cloud_Spanner_Data_SpannerConnection_BeginReadOnlyTransactionAsync_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.BeginReadOnlyTransactionAsync*"></a>
  <h4 id="Google_Cloud_Spanner_Data_SpannerConnection_BeginReadOnlyTransactionAsync_System_Threading_CancellationToken_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.BeginReadOnlyTransactionAsync(System.Threading.CancellationToken)">BeginReadOnlyTransactionAsync(CancellationToken)</h4>
  <div class="markdown level1 summary"><p>Begins a read-only transaction using the optionally provided <span class="xref">System.Threading.CancellationToken</span>.
Read transactions are preferred if possible because they do not impose locks internally.
ReadOnly transactions run with strong consistency and return the latest copy of data.
This method is thread safe.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Task&lt;SpannerTransaction&gt; BeginReadOnlyTransactionAsync(CancellationToken cancellationToken = default(CancellationToken))</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Threading.CancellationToken</span></td>
        <td><span class="parametername">cancellationToken</span></td>
        <td><p>An optional token for canceling the call. May be null.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Threading.Tasks.Task</span>&lt;<a class="xref" href="Google.Cloud.Spanner.Data.SpannerTransaction.html">SpannerTransaction</a>&gt;</td>
        <td><p>The newly created <a class="xref" href="Google.Cloud.Spanner.Data.SpannerTransaction.html">SpannerTransaction</a>.</p>
</td>
      </tr>
    </tbody>
  </table>
  <a id="Google_Cloud_Spanner_Data_SpannerConnection_BeginTransaction_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.BeginTransaction*"></a>
  <h4 id="Google_Cloud_Spanner_Data_SpannerConnection_BeginTransaction" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.BeginTransaction">BeginTransaction()</h4>
  <div class="markdown level1 summary"><p>Begins a new Spanner transaction synchronously. This method hides <span class="xref">System.Data.Common.DbConnection.BeginTransaction</span>, but behaves
the same way, just with a more specific return type.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public SpannerTransaction BeginTransaction()</code></pre>
  </div>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Google.Cloud.Spanner.Data.SpannerTransaction.html">SpannerTransaction</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <a id="Google_Cloud_Spanner_Data_SpannerConnection_BeginTransactionAsync_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.BeginTransactionAsync*"></a>
  <h4 id="Google_Cloud_Spanner_Data_SpannerConnection_BeginTransactionAsync_System_Threading_CancellationToken_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.BeginTransactionAsync(System.Threading.CancellationToken)">BeginTransactionAsync(CancellationToken)</h4>
  <div class="markdown level1 summary"><p>Begins a new read/write transaction.
This method is thread safe.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Task&lt;SpannerTransaction&gt; BeginTransactionAsync(CancellationToken cancellationToken = default(CancellationToken))</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Threading.CancellationToken</span></td>
        <td><span class="parametername">cancellationToken</span></td>
        <td><p>An optional token for canceling the call.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Threading.Tasks.Task</span>&lt;<a class="xref" href="Google.Cloud.Spanner.Data.SpannerTransaction.html">SpannerTransaction</a>&gt;</td>
        <td><p>A new <a class="xref" href="Google.Cloud.Spanner.Data.SpannerTransaction.html">SpannerTransaction</a></p>
</td>
      </tr>
    </tbody>
  </table>
  <a id="Google_Cloud_Spanner_Data_SpannerConnection_ChangeDatabase_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.ChangeDatabase*"></a>
  <h4 id="Google_Cloud_Spanner_Data_SpannerConnection_ChangeDatabase_System_String_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.ChangeDatabase(System.String)">ChangeDatabase(String)</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public override void ChangeDatabase(string newDataSource)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><span class="parametername">newDataSource</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 class="overrides">Overrides</h5>
  <div><span class="xref">System.Data.Common.DbConnection.ChangeDatabase(System.String)</span></div>
  <a id="Google_Cloud_Spanner_Data_SpannerConnection_Close_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.Close*"></a>
  <h4 id="Google_Cloud_Spanner_Data_SpannerConnection_Close" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.Close">Close()</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public override void Close()</code></pre>
  </div>
  <h5 class="overrides">Overrides</h5>
  <div><span class="xref">System.Data.Common.DbConnection.Close()</span></div>
  <a id="Google_Cloud_Spanner_Data_SpannerConnection_CreateBatchDmlCommand_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.CreateBatchDmlCommand*"></a>
  <h4 id="Google_Cloud_Spanner_Data_SpannerConnection_CreateBatchDmlCommand" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.CreateBatchDmlCommand">CreateBatchDmlCommand()</h4>
  <div class="markdown level1 summary"><p>Creates a new <a class="xref" href="Google.Cloud.Spanner.Data.SpannerBatchCommand.html">SpannerBatchCommand</a> to execute batched DML statements with this connection, without using a transaction.
You can add commands to the batch by using <a class="xref" href="Google.Cloud.Spanner.Data.SpannerBatchCommand.html#Google_Cloud_Spanner_Data_SpannerBatchCommand_Add_Google_Cloud_Spanner_Data_SpannerCommand_">Add(SpannerCommand)</a>,
<a class="xref" href="Google.Cloud.Spanner.Data.SpannerBatchCommand.html#Google_Cloud_Spanner_Data_SpannerBatchCommand_Add_Google_Cloud_Spanner_Data_SpannerCommandTextBuilder_Google_Cloud_Spanner_Data_SpannerParameterCollection_">Add(SpannerCommandTextBuilder, SpannerParameterCollection)</a>
and <a class="xref" href="Google.Cloud.Spanner.Data.SpannerBatchCommand.html#Google_Cloud_Spanner_Data_SpannerBatchCommand_Add_System_String_Google_Cloud_Spanner_Data_SpannerParameterCollection_">Add(String, SpannerParameterCollection)</a>.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public SpannerBatchCommand CreateBatchDmlCommand()</code></pre>
  </div>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Google.Cloud.Spanner.Data.SpannerBatchCommand.html">SpannerBatchCommand</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <a id="Google_Cloud_Spanner_Data_SpannerConnection_CreateCommandWithPartition_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.CreateCommandWithPartition*"></a>
  <h4 id="Google_Cloud_Spanner_Data_SpannerConnection_CreateCommandWithPartition_Google_Cloud_Spanner_Data_CommandPartition_Google_Cloud_Spanner_Data_SpannerTransaction_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.CreateCommandWithPartition(Google.Cloud.Spanner.Data.CommandPartition,Google.Cloud.Spanner.Data.SpannerTransaction)">CreateCommandWithPartition(CommandPartition, SpannerTransaction)</h4>
  <div class="markdown level1 summary"><p>Creates a new <a class="xref" href="Google.Cloud.Spanner.Data.SpannerCommand.html">SpannerCommand</a> from a <a class="xref" href="Google.Cloud.Spanner.Data.CommandPartition.html">CommandPartition</a>.
The newly created command will execute on a subset of data defined by the <a class="xref" href="Google.Cloud.Spanner.Data.CommandPartition.html#Google_Cloud_Spanner_Data_CommandPartition_PartitionId">PartitionId</a></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public SpannerCommand CreateCommandWithPartition(CommandPartition partition, SpannerTransaction transaction)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Google.Cloud.Spanner.Data.CommandPartition.html">CommandPartition</a></td>
        <td><span class="parametername">partition</span></td>
        <td><p>Information that represents a command to execute against a subset of data.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="Google.Cloud.Spanner.Data.SpannerTransaction.html">SpannerTransaction</a></td>
        <td><span class="parametername">transaction</span></td>
        <td><p>The <a class="xref" href="Google.Cloud.Spanner.Data.SpannerTransaction.html">SpannerTransaction</a> used when
creating the <a class="xref" href="Google.Cloud.Spanner.Data.CommandPartition.html">CommandPartition</a>.  See <a class="xref" href="Google.Cloud.Spanner.Data.SpannerConnection.html#Google_Cloud_Spanner_Data_SpannerConnection_BeginReadOnlyTransaction_Google_Cloud_Spanner_Data_TransactionId_">BeginReadOnlyTransaction(TransactionId)</a>.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Google.Cloud.Spanner.Data.SpannerCommand.html">SpannerCommand</a></td>
        <td><p>A configured <a class="xref" href="Google.Cloud.Spanner.Data.SpannerCommand.html">SpannerCommand</a></p>
</td>
      </tr>
    </tbody>
  </table>
  <a id="Google_Cloud_Spanner_Data_SpannerConnection_CreateDbCommand_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.CreateDbCommand*"></a>
  <h4 id="Google_Cloud_Spanner_Data_SpannerConnection_CreateDbCommand" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.CreateDbCommand">CreateDbCommand()</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected override DbCommand CreateDbCommand()</code></pre>
  </div>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Data.Common.DbCommand</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 class="overrides">Overrides</h5>
  <div><span class="xref">System.Data.Common.DbConnection.CreateDbCommand()</span></div>
  <a id="Google_Cloud_Spanner_Data_SpannerConnection_CreateDdlCommand_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.CreateDdlCommand*"></a>
  <h4 id="Google_Cloud_Spanner_Data_SpannerConnection_CreateDdlCommand_System_String_System_String___" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.CreateDdlCommand(System.String,System.String[])">CreateDdlCommand(String, String[])</h4>
  <div class="markdown level1 summary"><p>Creates a new <a class="xref" href="Google.Cloud.Spanner.Data.SpannerCommand.html">SpannerCommand</a> to execute a DDL (CREATE/DROP TABLE, etc) statement.
This method is thread safe.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public SpannerCommand CreateDdlCommand(string ddlStatement, params string[] extraDdlStatements)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><span class="parametername">ddlStatement</span></td>
        <td><p>The DDL statement (eg &apos;CREATE TABLE MYTABLE ...&apos;).  Must not be null.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.String</span>[]</td>
        <td><span class="parametername">extraDdlStatements</span></td>
        <td><p>An optional set of additional DDL statements to execute after
the first statement.  Extra Ddl statements cannot be used to create additional databases.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Google.Cloud.Spanner.Data.SpannerCommand.html">SpannerCommand</a></td>
        <td><p>A configured <a class="xref" href="Google.Cloud.Spanner.Data.SpannerCommand.html">SpannerCommand</a></p>
</td>
      </tr>
    </tbody>
  </table>
  <div>
  <h5 id="Google_Cloud_Spanner_Data_SpannerConnection_CreateDdlCommand_System_String_System_String____snippet">Sample code</h5>
  <div class="markdown level1"><pre><code class="lang-cs">using (SpannerConnection connection = new SpannerConnection(connectionString))
{
    SpannerCommand createDbCmd = connection.CreateDdlCommand($&quot;CREATE DATABASE {databaseName}&quot;);
    await createDbCmd.ExecuteNonQueryAsync();

    SpannerCommand createTableCmd = connection.CreateDdlCommand(
        @&quot;CREATE TABLE TestTable (
                                Key                STRING(MAX) NOT NULL,
                                StringValue        STRING(MAX),
                                Int64Value         INT64,
                              ) PRIMARY KEY (Key)&quot;);
    await createTableCmd.ExecuteNonQueryAsync();
}
</code></pre></div>
  </div>
  <a id="Google_Cloud_Spanner_Data_SpannerConnection_CreateDeleteCommand_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.CreateDeleteCommand*"></a>
  <h4 id="Google_Cloud_Spanner_Data_SpannerConnection_CreateDeleteCommand_System_String_Google_Cloud_Spanner_Data_SpannerParameterCollection_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.CreateDeleteCommand(System.String,Google.Cloud.Spanner.Data.SpannerParameterCollection)">CreateDeleteCommand(String, SpannerParameterCollection)</h4>
  <div class="markdown level1 summary"><p>Creates a new <a class="xref" href="Google.Cloud.Spanner.Data.SpannerCommand.html">SpannerCommand</a> to delete rows from a Spanner database table.
This method is thread safe.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public SpannerCommand CreateDeleteCommand(string databaseTable, SpannerParameterCollection primaryKeys = null)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><span class="parametername">databaseTable</span></td>
        <td><p>The name of the table from which to delete rows. Must not be null.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="Google.Cloud.Spanner.Data.SpannerParameterCollection.html">SpannerParameterCollection</a></td>
        <td><span class="parametername">primaryKeys</span></td>
        <td><p>The set of columns that form the primary key of the table.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Google.Cloud.Spanner.Data.SpannerCommand.html">SpannerCommand</a></td>
        <td><p>A configured <a class="xref" href="Google.Cloud.Spanner.Data.SpannerCommand.html">SpannerCommand</a></p>
</td>
      </tr>
    </tbody>
  </table>
  <div>
  <h5 id="Google_Cloud_Spanner_Data_SpannerConnection_CreateDeleteCommand_System_String_Google_Cloud_Spanner_Data_SpannerParameterCollection__snippet">Sample code</h5>
  <div class="markdown level1"><pre><code class="lang-cs">using (SpannerConnection connection = new SpannerConnection(connectionString))
{
    await connection.OpenAsync();

    // If the transaction is aborted, RunWithRetriableTransactionAsync will
    // retry the whole unit of work with a fresh transaction each time.
    // Please be aware that the whole unit of work needs to be prepared
    // to be called more than once.
    await connection.RunWithRetriableTransactionAsync(async (transaction) =&gt;
    {

        // Read the first two keys in the database.
        List&lt;string&gt; keys = new List&lt;string&gt;();
        SpannerCommand selectCmd = connection.CreateSelectCommand(&quot;SELECT * FROM TestTable&quot;);
        using (SpannerDataReader reader = await selectCmd.ExecuteReaderAsync())
        {
            while (keys.Count &lt; 3 &amp;&amp; await reader.ReadAsync())
            {
                keys.Add(reader.GetFieldValue&lt;string&gt;(&quot;Key&quot;));
            }
        }

        // Update the Int64Value of keys[0]
        // Include the primary key and update columns.
        SpannerCommand updateCmd = connection.CreateUpdateCommand(&quot;TestTable&quot;);
        updateCmd.Parameters.Add(&quot;Key&quot;, SpannerDbType.String, keys[0]);
        updateCmd.Parameters.Add(&quot;Int64Value&quot;, SpannerDbType.Int64, 0L);
        await updateCmd.ExecuteNonQueryAsync();

        // Delete row for keys[1]
        SpannerCommand deleteCmd = connection.CreateDeleteCommand(&quot;TestTable&quot;);
        deleteCmd.Parameters.Add(&quot;Key&quot;, SpannerDbType.String, keys[1]);
        await deleteCmd.ExecuteNonQueryAsync();
    });
</code></pre></div>
  </div>
  <a id="Google_Cloud_Spanner_Data_SpannerConnection_CreateDmlCommand_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.CreateDmlCommand*"></a>
  <h4 id="Google_Cloud_Spanner_Data_SpannerConnection_CreateDmlCommand_System_String_Google_Cloud_Spanner_Data_SpannerParameterCollection_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.CreateDmlCommand(System.String,Google.Cloud.Spanner.Data.SpannerParameterCollection)">CreateDmlCommand(String, SpannerParameterCollection)</h4>
  <div class="markdown level1 summary"><p>Creates a new <a class="xref" href="Google.Cloud.Spanner.Data.SpannerCommand.html">SpannerCommand</a> to execute a general DML (UPDATE, INSERT, DELETE) statement.
This method is thread safe.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public SpannerCommand CreateDmlCommand(string dmlStatement, SpannerParameterCollection dmlParameters = null)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><span class="parametername">dmlStatement</span></td>
        <td><p>The DML statement (eg &apos;DELETE FROM MYTABLE WHERE ...&apos;).  Must not be null.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="Google.Cloud.Spanner.Data.SpannerParameterCollection.html">SpannerParameterCollection</a></td>
        <td><span class="parametername">dmlParameters</span></td>
        <td><p>Optionally supplied set of <a class="xref" href="Google.Cloud.Spanner.Data.SpannerParameter.html">SpannerParameter</a>
that correspond to the parameters used in the SQL query. May be null.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Google.Cloud.Spanner.Data.SpannerCommand.html">SpannerCommand</a></td>
        <td><p>A configured <a class="xref" href="Google.Cloud.Spanner.Data.SpannerCommand.html">SpannerCommand</a></p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Google_Cloud_Spanner_Data_SpannerConnection_CreateDmlCommand_System_String_Google_Cloud_Spanner_Data_SpannerParameterCollection__remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>To insert, update, delete or &quot;insert or update&quot; a single row, the operation-specific methods
(<a class="xref" href="Google.Cloud.Spanner.Data.SpannerConnection.html#Google_Cloud_Spanner_Data_SpannerConnection_CreateUpdateCommand_System_String_Google_Cloud_Spanner_Data_SpannerParameterCollection_">CreateUpdateCommand(String, SpannerParameterCollection)</a> etc) are preferred as they are more efficient.
This method is more appropriate for general-purpose DML which can perform modifications based on query results.</p>
</div>
  <a id="Google_Cloud_Spanner_Data_SpannerConnection_CreateInsertCommand_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.CreateInsertCommand*"></a>
  <h4 id="Google_Cloud_Spanner_Data_SpannerConnection_CreateInsertCommand_System_String_Google_Cloud_Spanner_Data_SpannerParameterCollection_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.CreateInsertCommand(System.String,Google.Cloud.Spanner.Data.SpannerParameterCollection)">CreateInsertCommand(String, SpannerParameterCollection)</h4>
  <div class="markdown level1 summary"><p>Creates a new <a class="xref" href="Google.Cloud.Spanner.Data.SpannerCommand.html">SpannerCommand</a> to insert rows into a Spanner database table.
This method is thread safe.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public SpannerCommand CreateInsertCommand(string databaseTable, SpannerParameterCollection insertedColumns = null)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><span class="parametername">databaseTable</span></td>
        <td><p>The name of the table to insert rows into. Must not be null.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="Google.Cloud.Spanner.Data.SpannerParameterCollection.html">SpannerParameterCollection</a></td>
        <td><span class="parametername">insertedColumns</span></td>
        <td><p>A collection of <a class="xref" href="Google.Cloud.Spanner.Data.SpannerParameter.html">SpannerParameter</a>
where each instance represents a column in the Spanner database table being set.
May be null.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Google.Cloud.Spanner.Data.SpannerCommand.html">SpannerCommand</a></td>
        <td><p>A configured <a class="xref" href="Google.Cloud.Spanner.Data.SpannerCommand.html">SpannerCommand</a></p>
</td>
      </tr>
    </tbody>
  </table>
  <a id="Google_Cloud_Spanner_Data_SpannerConnection_CreateInsertOrUpdateCommand_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.CreateInsertOrUpdateCommand*"></a>
  <h4 id="Google_Cloud_Spanner_Data_SpannerConnection_CreateInsertOrUpdateCommand_System_String_Google_Cloud_Spanner_Data_SpannerParameterCollection_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.CreateInsertOrUpdateCommand(System.String,Google.Cloud.Spanner.Data.SpannerParameterCollection)">CreateInsertOrUpdateCommand(String, SpannerParameterCollection)</h4>
  <div class="markdown level1 summary"><p>Creates a new <a class="xref" href="Google.Cloud.Spanner.Data.SpannerCommand.html">SpannerCommand</a> to insert or update rows into a Spanner database table.
This method is thread safe.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public SpannerCommand CreateInsertOrUpdateCommand(string databaseTable, SpannerParameterCollection insertUpdateColumns = null)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><span class="parametername">databaseTable</span></td>
        <td><p>The name of the table to insert or updates rows. Must not be null.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="Google.Cloud.Spanner.Data.SpannerParameterCollection.html">SpannerParameterCollection</a></td>
        <td><span class="parametername">insertUpdateColumns</span></td>
        <td><p>A collection of <a class="xref" href="Google.Cloud.Spanner.Data.SpannerParameter.html">SpannerParameter</a>
where each instance represents a column in the Spanner database table being set.
May be null</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Google.Cloud.Spanner.Data.SpannerCommand.html">SpannerCommand</a></td>
        <td><p>A configured <a class="xref" href="Google.Cloud.Spanner.Data.SpannerCommand.html">SpannerCommand</a></p>
</td>
      </tr>
    </tbody>
  </table>
  <a id="Google_Cloud_Spanner_Data_SpannerConnection_CreateSelectCommand_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.CreateSelectCommand*"></a>
  <h4 id="Google_Cloud_Spanner_Data_SpannerConnection_CreateSelectCommand_System_String_Google_Cloud_Spanner_Data_SpannerParameterCollection_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.CreateSelectCommand(System.String,Google.Cloud.Spanner.Data.SpannerParameterCollection)">CreateSelectCommand(String, SpannerParameterCollection)</h4>
  <div class="markdown level1 summary"><p>Creates a new <a class="xref" href="Google.Cloud.Spanner.Data.SpannerCommand.html">SpannerCommand</a> to select rows using a SQL query statement.
This method is thread safe.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public SpannerCommand CreateSelectCommand(string sqlQueryStatement, SpannerParameterCollection selectParameters = null)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><span class="parametername">sqlQueryStatement</span></td>
        <td><p>A full SQL query statement that may optionally have
replacement parameters. Must not be null.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="Google.Cloud.Spanner.Data.SpannerParameterCollection.html">SpannerParameterCollection</a></td>
        <td><span class="parametername">selectParameters</span></td>
        <td><p>Optionally supplied set of <a class="xref" href="Google.Cloud.Spanner.Data.SpannerParameter.html">SpannerParameter</a>
that correspond to the parameters used in the SQL query. May be null.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Google.Cloud.Spanner.Data.SpannerCommand.html">SpannerCommand</a></td>
        <td><p>A configured <a class="xref" href="Google.Cloud.Spanner.Data.SpannerCommand.html">SpannerCommand</a></p>
</td>
      </tr>
    </tbody>
  </table>
  <div>
  <h5 id="Google_Cloud_Spanner_Data_SpannerConnection_CreateSelectCommand_System_String_Google_Cloud_Spanner_Data_SpannerParameterCollection__snippet">Sample code</h5>
  <div class="markdown level1"><pre><code class="lang-cs">using (SpannerConnection connection = new SpannerConnection(connectionString))
{
    await connection.OpenAsync();

    // If the transaction is aborted, RunWithRetriableTransactionAsync will
    // retry the whole unit of work with a fresh transaction each time.
    // Please be aware that the whole unit of work needs to be prepared
    // to be called more than once.
    await connection.RunWithRetriableTransactionAsync(async (transaction) =&gt;
    {

        // Read the first two keys in the database.
        List&lt;string&gt; keys = new List&lt;string&gt;();
        SpannerCommand selectCmd = connection.CreateSelectCommand(&quot;SELECT * FROM TestTable&quot;);
        using (SpannerDataReader reader = await selectCmd.ExecuteReaderAsync())
        {
            while (keys.Count &lt; 3 &amp;&amp; await reader.ReadAsync())
            {
                keys.Add(reader.GetFieldValue&lt;string&gt;(&quot;Key&quot;));
            }
        }

        // Update the Int64Value of keys[0]
        // Include the primary key and update columns.
        SpannerCommand updateCmd = connection.CreateUpdateCommand(&quot;TestTable&quot;);
        updateCmd.Parameters.Add(&quot;Key&quot;, SpannerDbType.String, keys[0]);
        updateCmd.Parameters.Add(&quot;Int64Value&quot;, SpannerDbType.Int64, 0L);
        await updateCmd.ExecuteNonQueryAsync();

        // Delete row for keys[1]
        SpannerCommand deleteCmd = connection.CreateDeleteCommand(&quot;TestTable&quot;);
        deleteCmd.Parameters.Add(&quot;Key&quot;, SpannerDbType.String, keys[1]);
        await deleteCmd.ExecuteNonQueryAsync();
    });
</code></pre></div>
  </div>
  <a id="Google_Cloud_Spanner_Data_SpannerConnection_CreateUpdateCommand_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.CreateUpdateCommand*"></a>
  <h4 id="Google_Cloud_Spanner_Data_SpannerConnection_CreateUpdateCommand_System_String_Google_Cloud_Spanner_Data_SpannerParameterCollection_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.CreateUpdateCommand(System.String,Google.Cloud.Spanner.Data.SpannerParameterCollection)">CreateUpdateCommand(String, SpannerParameterCollection)</h4>
  <div class="markdown level1 summary"><p>Creates a new <a class="xref" href="Google.Cloud.Spanner.Data.SpannerCommand.html">SpannerCommand</a> to update rows in a Spanner database table.
This method is thread safe.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public SpannerCommand CreateUpdateCommand(string databaseTable, SpannerParameterCollection updateColumns = null)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><span class="parametername">databaseTable</span></td>
        <td><p>The name of the table to update rows. Must not be null.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="Google.Cloud.Spanner.Data.SpannerParameterCollection.html">SpannerParameterCollection</a></td>
        <td><span class="parametername">updateColumns</span></td>
        <td><p>A collection of <a class="xref" href="Google.Cloud.Spanner.Data.SpannerParameter.html">SpannerParameter</a>
where each instance represents a column in the Spanner database table being set.
Primary keys of the rows to be updated must also be included.
May be null.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Google.Cloud.Spanner.Data.SpannerCommand.html">SpannerCommand</a></td>
        <td><p>A configured <a class="xref" href="Google.Cloud.Spanner.Data.SpannerCommand.html">SpannerCommand</a></p>
</td>
      </tr>
    </tbody>
  </table>
  <div>
  <h5 id="Google_Cloud_Spanner_Data_SpannerConnection_CreateUpdateCommand_System_String_Google_Cloud_Spanner_Data_SpannerParameterCollection__snippet">Sample code</h5>
  <div class="markdown level1"><pre><code class="lang-cs">using (SpannerConnection connection = new SpannerConnection(connectionString))
{
    await connection.OpenAsync();

    // If the transaction is aborted, RunWithRetriableTransactionAsync will
    // retry the whole unit of work with a fresh transaction each time.
    // Please be aware that the whole unit of work needs to be prepared
    // to be called more than once.
    await connection.RunWithRetriableTransactionAsync(async (transaction) =&gt;
    {

        // Read the first two keys in the database.
        List&lt;string&gt; keys = new List&lt;string&gt;();
        SpannerCommand selectCmd = connection.CreateSelectCommand(&quot;SELECT * FROM TestTable&quot;);
        using (SpannerDataReader reader = await selectCmd.ExecuteReaderAsync())
        {
            while (keys.Count &lt; 3 &amp;&amp; await reader.ReadAsync())
            {
                keys.Add(reader.GetFieldValue&lt;string&gt;(&quot;Key&quot;));
            }
        }

        // Update the Int64Value of keys[0]
        // Include the primary key and update columns.
        SpannerCommand updateCmd = connection.CreateUpdateCommand(&quot;TestTable&quot;);
        updateCmd.Parameters.Add(&quot;Key&quot;, SpannerDbType.String, keys[0]);
        updateCmd.Parameters.Add(&quot;Int64Value&quot;, SpannerDbType.Int64, 0L);
        await updateCmd.ExecuteNonQueryAsync();

        // Delete row for keys[1]
        SpannerCommand deleteCmd = connection.CreateDeleteCommand(&quot;TestTable&quot;);
        deleteCmd.Parameters.Add(&quot;Key&quot;, SpannerDbType.String, keys[1]);
        await deleteCmd.ExecuteNonQueryAsync();
    });
</code></pre></div>
  </div>
  <a id="Google_Cloud_Spanner_Data_SpannerConnection_Dispose_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.Dispose*"></a>
  <h4 id="Google_Cloud_Spanner_Data_SpannerConnection_Dispose_System_Boolean_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.Dispose(System.Boolean)">Dispose(Boolean)</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected override void Dispose(bool disposing)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Boolean</span></td>
        <td><span class="parametername">disposing</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 class="overrides">Overrides</h5>
  <div><span class="xref">System.ComponentModel.Component.Dispose(System.Boolean)</span></div>
  <a id="Google_Cloud_Spanner_Data_SpannerConnection_EnlistTransaction_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.EnlistTransaction*"></a>
  <h4 id="Google_Cloud_Spanner_Data_SpannerConnection_EnlistTransaction_System_Transactions_Transaction_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.EnlistTransaction(System.Transactions.Transaction)">EnlistTransaction(Transaction)</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public override void EnlistTransaction(Transaction transaction)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Transactions.Transaction</span></td>
        <td><span class="parametername">transaction</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 class="overrides">Overrides</h5>
  <div><span class="xref">System.Data.Common.DbConnection.EnlistTransaction(System.Transactions.Transaction)</span></div>
  <a id="Google_Cloud_Spanner_Data_SpannerConnection_GetSessionPoolDatabaseStatistics_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.GetSessionPoolDatabaseStatistics*"></a>
  <h4 id="Google_Cloud_Spanner_Data_SpannerConnection_GetSessionPoolDatabaseStatistics" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.GetSessionPoolDatabaseStatistics">GetSessionPoolDatabaseStatistics()</h4>
  <div class="markdown level1 summary"><p>Retrieves the database-specific statistics for the session pool associated with the connection string. The connection string must
include a database name.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public SessionPool.DatabaseStatistics GetSessionPoolDatabaseStatistics()</code></pre>
  </div>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Google.Cloud.Spanner.V1.SessionPool.DatabaseStatistics.html">SessionPool.DatabaseStatistics</a></td>
        <td><p>The session pool statistics, or <code>null</code> if there is no current session pool
for the database specified in the connection string.</p>
</td>
      </tr>
    </tbody>
  </table>
  <div>
  <h5 id="Google_Cloud_Spanner_Data_SpannerConnection_GetSessionPoolDatabaseStatistics_snippet">Sample code</h5>
  <div class="markdown level1"><pre><code class="lang-cs">using (SpannerConnection connection = new SpannerConnection(connectionString))
{
    SessionPool.DatabaseStatistics stats = connection.GetSessionPoolDatabaseStatistics();
    if (stats is null)
    {
        Console.WriteLine(&quot;No session pool for this connection string yet&quot;);
    }
    else
    {
        // Access individual properties...
        Console.WriteLine($&quot;Database name: {stats.DatabaseName}&quot;);
        Console.WriteLine($&quot;Active sessions: {stats.ActiveSessionCount}&quot;);
        Console.WriteLine($&quot;Pooled read-only sessions: {stats.ReadPoolCount}&quot;);
        Console.WriteLine($&quot;Pooled read-write sessions: {stats.ReadWritePoolCount}&quot;);
        // ... or just use the overridden ToString method to log all the statistics in one go:
        Console.WriteLine(stats);
    }
}
</code></pre></div>
  </div>
  <a id="Google_Cloud_Spanner_Data_SpannerConnection_Open_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.Open*"></a>
  <h4 id="Google_Cloud_Spanner_Data_SpannerConnection_Open" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.Open">Open()</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public override void Open()</code></pre>
  </div>
  <h5 class="overrides">Overrides</h5>
  <div><span class="xref">System.Data.Common.DbConnection.Open()</span></div>
  <a id="Google_Cloud_Spanner_Data_SpannerConnection_OpenAsReadOnly_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.OpenAsReadOnly*"></a>
  <h4 id="Google_Cloud_Spanner_Data_SpannerConnection_OpenAsReadOnly_Google_Cloud_Spanner_Data_TimestampBound_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.OpenAsReadOnly(Google.Cloud.Spanner.Data.TimestampBound)">OpenAsReadOnly(TimestampBound)</h4>
  <div class="markdown level1 summary"><p>Call OpenAsReadOnly within a <span class="xref">System.Transactions.TransactionScope</span> to open the connection
with a read-only transaction with the given <a class="xref" href="Google.Cloud.Spanner.Data.TimestampBound.html">TimestampBound</a> settings</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void OpenAsReadOnly(TimestampBound timestampBound = null)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Google.Cloud.Spanner.Data.TimestampBound.html">TimestampBound</a></td>
        <td><span class="parametername">timestampBound</span></td>
        <td><p>Specifies the timestamp or maximum staleness of a read operation. May be null.</p>
</td>
      </tr>
    </tbody>
  </table>
  <a id="Google_Cloud_Spanner_Data_SpannerConnection_OpenAsReadOnly_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.OpenAsReadOnly*"></a>
  <h4 id="Google_Cloud_Spanner_Data_SpannerConnection_OpenAsReadOnly_Google_Cloud_Spanner_Data_TransactionId_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.OpenAsReadOnly(Google.Cloud.Spanner.Data.TransactionId)">OpenAsReadOnly(TransactionId)</h4>
  <div class="markdown level1 summary"><p>If this connection is being opened within a <span class="xref">System.Transactions.TransactionScope</span>, this
will connect to an existing transaction identified by <code data-dev-comment-type="paramref" class="paramref">transactionId</code>.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void OpenAsReadOnly(TransactionId transactionId)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Google.Cloud.Spanner.Data.TransactionId.html">TransactionId</a></td>
        <td><span class="parametername">transactionId</span></td>
        <td><p>The <a class="xref" href="Google.Cloud.Spanner.Data.TransactionId.html">TransactionId</a> representing an active readonly <a class="xref" href="Google.Cloud.Spanner.Data.SpannerTransaction.html">SpannerTransaction</a>.</p>
</td>
      </tr>
    </tbody>
  </table>
  <a id="Google_Cloud_Spanner_Data_SpannerConnection_OpenAsReadOnlyAsync_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.OpenAsReadOnlyAsync*"></a>
  <h4 id="Google_Cloud_Spanner_Data_SpannerConnection_OpenAsReadOnlyAsync_Google_Cloud_Spanner_Data_TimestampBound_System_Threading_CancellationToken_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.OpenAsReadOnlyAsync(Google.Cloud.Spanner.Data.TimestampBound,System.Threading.CancellationToken)">OpenAsReadOnlyAsync(TimestampBound, CancellationToken)</h4>
  <div class="markdown level1 summary"><p>If this connection is being opened within a <span class="xref">System.Transactions.TransactionScope</span>, this forces
the created Cloud Spanner transaction to be a read-only transaction with the given
<a class="xref" href="Google.Cloud.Spanner.Data.TimestampBound.html">TimestampBound</a> settings.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Task OpenAsReadOnlyAsync(TimestampBound timestampBound = null, CancellationToken cancellationToken = default(CancellationToken))</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Google.Cloud.Spanner.Data.TimestampBound.html">TimestampBound</a></td>
        <td><span class="parametername">timestampBound</span></td>
        <td><p>Specifies the timestamp or maximum staleness of a read operation. May be null.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.Threading.CancellationToken</span></td>
        <td><span class="parametername">cancellationToken</span></td>
        <td><p>An optional token for canceling the call.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Threading.Tasks.Task</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <a id="Google_Cloud_Spanner_Data_SpannerConnection_OpenAsync_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.OpenAsync*"></a>
  <h4 id="Google_Cloud_Spanner_Data_SpannerConnection_OpenAsync_System_Threading_CancellationToken_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.OpenAsync(System.Threading.CancellationToken)">OpenAsync(CancellationToken)</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public override Task OpenAsync(CancellationToken cancellationToken)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Threading.CancellationToken</span></td>
        <td><span class="parametername">cancellationToken</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Threading.Tasks.Task</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 class="overrides">Overrides</h5>
  <div><span class="xref">System.Data.Common.DbConnection.OpenAsync(System.Threading.CancellationToken)</span></div>
  <a id="Google_Cloud_Spanner_Data_SpannerConnection_RunWithRetriableTransaction_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.RunWithRetriableTransaction*"></a>
  <h4 id="Google_Cloud_Spanner_Data_SpannerConnection_RunWithRetriableTransaction_System_Action_Google_Cloud_Spanner_Data_SpannerTransaction__" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.RunWithRetriableTransaction(System.Action{Google.Cloud.Spanner.Data.SpannerTransaction})">RunWithRetriableTransaction(Action&lt;SpannerTransaction&gt;)</h4>
  <div class="markdown level1 summary"><p>Executes a read-write transaction, with retries as necessary.
The work to perform in each transaction attempt is defined by <code data-dev-comment-type="paramref" class="paramref">work</code>.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void RunWithRetriableTransaction(Action&lt;SpannerTransaction&gt; work)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Action</span>&lt;<a class="xref" href="Google.Cloud.Spanner.Data.SpannerTransaction.html">SpannerTransaction</a>&gt;</td>
        <td><span class="parametername">work</span></td>
        <td><p>The work to perform in each transaction attempt.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Google_Cloud_Spanner_Data_SpannerConnection_RunWithRetriableTransaction_System_Action_Google_Cloud_Spanner_Data_SpannerTransaction___remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p><code data-dev-comment-type="paramref" class="paramref">work</code> will be fully retried whenever the <a class="xref" href="Google.Cloud.Spanner.Data.SpannerTransaction.html">SpannerTransaction</a>
    that it receives as a parameter aborts. <code data-dev-comment-type="paramref" class="paramref">work</code> won&apos;t be retried if any other errors occur.
<code data-dev-comment-type="paramref" class="paramref">work</code> must be prepared to be called more than once.
A new <a class="xref" href="Google.Cloud.Spanner.Data.SpannerTransaction.html">SpannerTransaction</a> will be passed to <code data-dev-comment-type="paramref" class="paramref">work</code>
each time it is rerun.
<code data-dev-comment-type="paramref" class="paramref">work</code> doesn&apos;t need to handle the lifecycle of the <a class="xref" href="Google.Cloud.Spanner.Data.SpannerTransaction.html">SpannerTransaction</a>,
it will be automatically committed after <code data-dev-comment-type="paramref" class="paramref">work</code> has finished or rollbacked if an 
<span class="xref">System.Exception</span> (other than because the transaction aborted) is thrown by <code data-dev-comment-type="paramref" class="paramref">work</code>.</p>
</div>
  <a id="Google_Cloud_Spanner_Data_SpannerConnection_RunWithRetriableTransaction_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.RunWithRetriableTransaction*"></a>
  <h4 id="Google_Cloud_Spanner_Data_SpannerConnection_RunWithRetriableTransaction__1_System_Func_Google_Cloud_Spanner_Data_SpannerTransaction___0__" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.RunWithRetriableTransaction``1(System.Func{Google.Cloud.Spanner.Data.SpannerTransaction,``0})">RunWithRetriableTransaction&lt;TResult&gt;(Func&lt;SpannerTransaction, TResult&gt;)</h4>
  <div class="markdown level1 summary"><p>Executes a read-write transaction, with retries as necessary.
The work to perform in each transaction attempt is defined by <code data-dev-comment-type="paramref" class="paramref">work</code>.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public TResult RunWithRetriableTransaction&lt;TResult&gt;(Func&lt;SpannerTransaction, TResult&gt; work)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Func</span>&lt;<a class="xref" href="Google.Cloud.Spanner.Data.SpannerTransaction.html">SpannerTransaction</a>, TResult&gt;</td>
        <td><span class="parametername">work</span></td>
        <td><p>The work to perform in each transaction attempt.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">TResult</span></td>
        <td><p>The value returned by <code data-dev-comment-type="paramref" class="paramref">work</code> if the transaction commits successfully.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="typeParameters">Type Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="parametername">TResult</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Google_Cloud_Spanner_Data_SpannerConnection_RunWithRetriableTransaction__1_System_Func_Google_Cloud_Spanner_Data_SpannerTransaction___0___remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p><code data-dev-comment-type="paramref" class="paramref">work</code> will be fully retried whenever the <a class="xref" href="Google.Cloud.Spanner.Data.SpannerTransaction.html">SpannerTransaction</a>
    that it receives as a parameter aborts. <code data-dev-comment-type="paramref" class="paramref">work</code> won&apos;t be retried if any other errors occur.
<code data-dev-comment-type="paramref" class="paramref">work</code> must be prepared to be called more than once.
A new <a class="xref" href="Google.Cloud.Spanner.Data.SpannerTransaction.html">SpannerTransaction</a> will be passed to <code data-dev-comment-type="paramref" class="paramref">work</code>
each time it is rerun.
<code data-dev-comment-type="paramref" class="paramref">work</code> doesn&apos;t need to handle the lifecycle of the <a class="xref" href="Google.Cloud.Spanner.Data.SpannerTransaction.html">SpannerTransaction</a>,
it will be automatically committed after <code data-dev-comment-type="paramref" class="paramref">work</code> has finished or rollbacked if an 
<span class="xref">System.Exception</span> (other than because the transaction aborted) is thrown by <code data-dev-comment-type="paramref" class="paramref">work</code>.</p>
</div>
  <a id="Google_Cloud_Spanner_Data_SpannerConnection_RunWithRetriableTransactionAsync_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.RunWithRetriableTransactionAsync*"></a>
  <h4 id="Google_Cloud_Spanner_Data_SpannerConnection_RunWithRetriableTransactionAsync_System_Func_Google_Cloud_Spanner_Data_SpannerTransaction_System_Threading_Tasks_Task__System_Threading_CancellationToken_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.RunWithRetriableTransactionAsync(System.Func{Google.Cloud.Spanner.Data.SpannerTransaction,System.Threading.Tasks.Task},System.Threading.CancellationToken)">RunWithRetriableTransactionAsync(Func&lt;SpannerTransaction, Task&gt;, CancellationToken)</h4>
  <div class="markdown level1 summary"><p>Executes a read-write transaction, with retries as necessary.
The work to perform in each transaction attempt is defined by <code data-dev-comment-type="paramref" class="paramref">asyncWork</code>.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Task RunWithRetriableTransactionAsync(Func&lt;SpannerTransaction, Task&gt; asyncWork, CancellationToken cancellationToken = default(CancellationToken))</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Func</span>&lt;<a class="xref" href="Google.Cloud.Spanner.Data.SpannerTransaction.html">SpannerTransaction</a>, <span class="xref">System.Threading.Tasks.Task</span>&gt;</td>
        <td><span class="parametername">asyncWork</span></td>
        <td><p>The work to perform in each transaction attempt.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.Threading.CancellationToken</span></td>
        <td><span class="parametername">cancellationToken</span></td>
        <td><p>An optional token for canceling the call.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Threading.Tasks.Task</span></td>
        <td><p>A task that when completed will signal that the work is done.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Google_Cloud_Spanner_Data_SpannerConnection_RunWithRetriableTransactionAsync_System_Func_Google_Cloud_Spanner_Data_SpannerTransaction_System_Threading_Tasks_Task__System_Threading_CancellationToken__remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p><code data-dev-comment-type="paramref" class="paramref">asyncWork</code> will be fully retried whenever the <a class="xref" href="Google.Cloud.Spanner.Data.SpannerTransaction.html">SpannerTransaction</a>
    that it receives as a parameter aborts. <code data-dev-comment-type="paramref" class="paramref">asyncWork</code> won&apos;t be retried if any other errors occur.
<code data-dev-comment-type="paramref" class="paramref">asyncWork</code> must be prepared to be called more than once.
A new <a class="xref" href="Google.Cloud.Spanner.Data.SpannerTransaction.html">SpannerTransaction</a> will be passed to <code data-dev-comment-type="paramref" class="paramref">asyncWork</code>
each time it is rerun.
<code data-dev-comment-type="paramref" class="paramref">asyncWork</code> doesn&apos;t need to handle the lifecycle of the <a class="xref" href="Google.Cloud.Spanner.Data.SpannerTransaction.html">SpannerTransaction</a>,
it will be automatically committed after <code data-dev-comment-type="paramref" class="paramref">asyncWork</code> has finished or rollbacked if an 
<span class="xref">System.Exception</span> (other than because the transaction commit aborted) is thrown by <code data-dev-comment-type="paramref" class="paramref">asyncWork</code>.</p>
</div>
  <div>
  <h5 id="Google_Cloud_Spanner_Data_SpannerConnection_RunWithRetriableTransactionAsync_System_Func_Google_Cloud_Spanner_Data_SpannerTransaction_System_Threading_Tasks_Task__System_Threading_CancellationToken__snippet">Sample code</h5>
  <div class="markdown level1"><pre><code class="lang-cs">using (SpannerConnection connection = new SpannerConnection(connectionString))
{
    await connection.OpenAsync();

    // If the transaction is aborted, RunWithRetriableTransactionAsync will
    // retry the whole unit of work with a fresh transaction each time.
    await connection.RunWithRetriableTransactionAsync(async transaction =&gt;
    {
        SpannerCommand cmd = connection.CreateInsertCommand(&quot;TestTable&quot;);
        SpannerParameter keyParameter = cmd.Parameters.Add(&quot;Key&quot;, SpannerDbType.String);
        SpannerParameter stringValueParameter = cmd.Parameters.Add(&quot;StringValue&quot;, SpannerDbType.String);
        SpannerParameter int64ValueParameter = cmd.Parameters.Add(&quot;Int64Value&quot;, SpannerDbType.Int64);
        cmd.Transaction = transaction;

        // This executes 5 distinct insert commands using the retriable transaction.
        // The mutations will be effective once the transaction has committed successfully.
        for (int i = 0; i &lt; 5; i++)
        {
            keyParameter.Value = Guid.NewGuid().ToString(&quot;N&quot;);
            stringValueParameter.Value = $&quot;StringValue{i}&quot;;
            int64ValueParameter.Value = i;
            int rowsAffected = await cmd.ExecuteNonQueryAsync();
            Console.WriteLine($&quot;{rowsAffected} rows written...&quot;);
        }
    });
}
</code></pre></div>
  </div>
  <a id="Google_Cloud_Spanner_Data_SpannerConnection_RunWithRetriableTransactionAsync_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.RunWithRetriableTransactionAsync*"></a>
  <h4 id="Google_Cloud_Spanner_Data_SpannerConnection_RunWithRetriableTransactionAsync__1_System_Func_Google_Cloud_Spanner_Data_SpannerTransaction_System_Threading_Tasks_Task___0___System_Threading_CancellationToken_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.RunWithRetriableTransactionAsync``1(System.Func{Google.Cloud.Spanner.Data.SpannerTransaction,System.Threading.Tasks.Task{``0}},System.Threading.CancellationToken)">RunWithRetriableTransactionAsync&lt;TResult&gt;(Func&lt;SpannerTransaction, Task&lt;TResult&gt;&gt;, CancellationToken)</h4>
  <div class="markdown level1 summary"><p>Executes a read-write transaction, with retries as necessary.
The work to perform in each transaction attempt is defined by <code data-dev-comment-type="paramref" class="paramref">asyncWork</code>.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Task&lt;TResult&gt; RunWithRetriableTransactionAsync&lt;TResult&gt;(Func&lt;SpannerTransaction, Task&lt;TResult&gt;&gt; asyncWork, CancellationToken cancellationToken = default(CancellationToken))</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Func</span>&lt;<a class="xref" href="Google.Cloud.Spanner.Data.SpannerTransaction.html">SpannerTransaction</a>, <span class="xref">System.Threading.Tasks.Task</span>&lt;TResult&gt;&gt;</td>
        <td><span class="parametername">asyncWork</span></td>
        <td><p>The work to perform in each transaction attempt.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.Threading.CancellationToken</span></td>
        <td><span class="parametername">cancellationToken</span></td>
        <td><p>An optional token for canceling the call.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Threading.Tasks.Task</span>&lt;TResult&gt;</td>
        <td><p>The value returned by <code data-dev-comment-type="paramref" class="paramref">asyncWork</code> if the transaction commits successfully.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="typeParameters">Type Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="parametername">TResult</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="Google_Cloud_Spanner_Data_SpannerConnection_RunWithRetriableTransactionAsync__1_System_Func_Google_Cloud_Spanner_Data_SpannerTransaction_System_Threading_Tasks_Task___0___System_Threading_CancellationToken__remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p><code data-dev-comment-type="paramref" class="paramref">asyncWork</code> will be fully retried whenever the <a class="xref" href="Google.Cloud.Spanner.Data.SpannerTransaction.html">SpannerTransaction</a>
    that it receives as a parameter aborts. <code data-dev-comment-type="paramref" class="paramref">asyncWork</code> won&apos;t be retried if any other errors occur.
<code data-dev-comment-type="paramref" class="paramref">asyncWork</code> must be prepared to be called more than once.
A new <a class="xref" href="Google.Cloud.Spanner.Data.SpannerTransaction.html">SpannerTransaction</a> will be passed to <code data-dev-comment-type="paramref" class="paramref">asyncWork</code>
each time it is rerun.
<code data-dev-comment-type="paramref" class="paramref">asyncWork</code> doesn&apos;t need to handle the lifecycle of the <a class="xref" href="Google.Cloud.Spanner.Data.SpannerTransaction.html">SpannerTransaction</a>,
it will be automatically committed after <code data-dev-comment-type="paramref" class="paramref">asyncWork</code> has finished or rollbacked if an 
<span class="xref">System.Exception</span> (other than because the transaction commit aborted) is thrown by <code data-dev-comment-type="paramref" class="paramref">asyncWork</code>.</p>
</div>
  <a id="Google_Cloud_Spanner_Data_SpannerConnection_ShutdownSessionPoolAsync_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.ShutdownSessionPoolAsync*"></a>
  <h4 id="Google_Cloud_Spanner_Data_SpannerConnection_ShutdownSessionPoolAsync_System_Threading_CancellationToken_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.ShutdownSessionPoolAsync(System.Threading.CancellationToken)">ShutdownSessionPoolAsync(CancellationToken)</h4>
  <div class="markdown level1 summary"><p>Shuts down the session pool associated with the connection. Further attempts to acquire sessions will fail immediately.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Task ShutdownSessionPoolAsync(CancellationToken cancellationToken = default(CancellationToken))</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Threading.CancellationToken</span></td>
        <td><span class="parametername">cancellationToken</span></td>
        <td><p>An optional token for canceling the returned task. This does not cancel the shutdown itself.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Threading.Tasks.Task</span></td>
        <td><p>A task which will complete when the session pool has finished shutting down.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Google_Cloud_Spanner_Data_SpannerConnection_ShutdownSessionPoolAsync_System_Threading_CancellationToken__remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>This call will delete all pooled sessions, and wait for all active sessions to be released back to the pool
and also deleted.</p>
</div>
  <div>
  <h5 id="Google_Cloud_Spanner_Data_SpannerConnection_ShutdownSessionPoolAsync_System_Threading_CancellationToken__snippet">Sample code</h5>
  <div class="markdown level1"><pre><code class="lang-cs">// When your application is shutting down. Note that any pending or future requests
// for sessions will fail.
using (SpannerConnection connection = new SpannerConnection(connectionString))
{
    await connection.ShutdownSessionPoolAsync();
}
</code></pre></div>
  </div>
  <a id="Google_Cloud_Spanner_Data_SpannerConnection_WhenSessionPoolReady_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.WhenSessionPoolReady*"></a>
  <h4 id="Google_Cloud_Spanner_Data_SpannerConnection_WhenSessionPoolReady_System_Threading_CancellationToken_" data-uid="Google.Cloud.Spanner.Data.SpannerConnection.WhenSessionPoolReady(System.Threading.CancellationToken)">WhenSessionPoolReady(CancellationToken)</h4>
  <div class="markdown level1 summary"><p>Returns a task indicating when the session pool associated with the connection is populated up to its minimum size.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Task WhenSessionPoolReady(CancellationToken cancellationToken = default(CancellationToken))</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Threading.CancellationToken</span></td>
        <td><span class="parametername">cancellationToken</span></td>
        <td><p>An optional token for canceling the call.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Threading.Tasks.Task</span></td>
        <td><p>A task which will complete when the session pool has reached its minimum size.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Google_Cloud_Spanner_Data_SpannerConnection_WhenSessionPoolReady_System_Threading_CancellationToken__remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>If the pool is unhealthy or becomes unhealthy before it reaches its minimum size,
the returned task will be faulted with an <a class="xref" href="Grpc.Core.RpcException.html">RpcException</a>.</p>
</div>
  <div>
  <h5 id="Google_Cloud_Spanner_Data_SpannerConnection_WhenSessionPoolReady_System_Threading_CancellationToken__snippet">Sample code</h5>
  <div class="markdown level1"><pre><code class="lang-cs">// This would usually be executed during application start-up, before any Spanner
// operations are performed. It can be used at any time, however. It is purely passive:
// it doesn&#39;t modify the session pool or trigger any other actions.
using (SpannerConnection connection = new SpannerConnection(connectionString))
{
    await connection.WhenSessionPoolReady();
}
</code></pre></div>
  </div>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
             
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
