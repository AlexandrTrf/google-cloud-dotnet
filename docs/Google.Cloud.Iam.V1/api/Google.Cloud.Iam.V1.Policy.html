<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Class Policy
   | Google.Cloud.Iam.V1 </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Class Policy
   | Google.Cloud.Iam.V1 ">
    <meta name="generator" content="docfx 2.50.0.0">
    
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="Google.Cloud.Iam.V1.Policy">
  
  
  <h1 id="Google_Cloud_Iam_V1_Policy" data-uid="Google.Cloud.Iam.V1.Policy" class="text-break">Class Policy
  </h1>
  <div class="markdown level0 summary"><p>Defines an Identity and Access Management (IAM) policy. It is used to
specify access control policies for Cloud Platform resources.</p>
<p>A <code>Policy</code> is a collection of <code>bindings</code>. A <code>binding</code> binds one or more
<code>members</code> to a single <code>role</code>. Members can be user accounts, service accounts,
Google groups, and domains (such as G Suite). A <code>role</code> is a named list of
permissions (defined by IAM or configured by users). A <code>binding</code> can
optionally specify a <code>condition</code>, which is a logic expression that further
constrains the role binding based on attributes about the request and/or
target resource.</p>
<p><strong>JSON Example</strong></p>
<p>{
 &quot;bindings&quot;: [
   {
     &quot;role&quot;: &quot;roles/resourcemanager.organizationAdmin&quot;,
     &quot;members&quot;: [
       &amp;quot;user:mike@example.com&quot;,
       &amp;quot;group:admins@example.com&quot;,
       &quot;domain:google.com&quot;,
       &amp;quot;serviceAccount:my-project-id@appspot.gserviceaccount.com&quot;
     ]
   },
   {
     &quot;role&quot;: &quot;roles/resourcemanager.organizationViewer&quot;,
     &quot;members&quot;: [&amp;quot;user:eve@example.com&quot;],
     &quot;condition&quot;: {
       &quot;title&quot;: &quot;expirable access&quot;,
       &quot;description&quot;: &quot;Does not grant access after Sep 2020&quot;,
       &quot;expression&quot;: &quot;request.time &lt;
       timestamp(&apos;2020-10-01T00:00:00.000Z&apos;)&quot;,
     }
   }
 ]
}</p>
<p><strong>YAML Example</strong></p>
<p>bindings:</p>
<ul>
<li>members:<ul>
<li>user:mike@example.com</li>
<li>group:admins@example.com</li>
<li>domain:google.com</li>
<li>serviceAccount:my-project-id@appspot.gserviceaccount.com
role: roles/resourcemanager.organizationAdmin</li>
</ul>
</li>
<li>members:<ul>
<li>user:eve@example.com
role: roles/resourcemanager.organizationViewer
condition:
title: expirable access
description: Does not grant access after Sep 2020
expression: request.time &lt; timestamp(&apos;2020-10-01T00:00:00.000Z&apos;)</li>
</ul>
</li>
</ul>
<p>For a description of IAM and its features, see the
<a href="https://cloud.google.com/iam/docs">IAM developer&apos;s guide</a>.</p>
</div>
  <div class="markdown level0 conceptual"></div>
  <div class="inheritance">
    <h5>Inheritance</h5>
    <div class="level0"><span class="xref">System.Object</span></div>
    <div class="level1"><span class="xref">Policy</span></div>
  </div>
  <div classs="implements">
    <h5>Implements</h5>
    <div><a class="xref" href="Google.Protobuf.IMessage-1.html">IMessage</a>&lt;<a class="xref" href="Google.Cloud.Iam.V1.Policy.html">Policy</a>&gt;</div>
    <div><span class="xref">System.IEquatable</span>&lt;<a class="xref" href="Google.Cloud.Iam.V1.Policy.html">Policy</a>&gt;</div>
    <div><a class="xref" href="Google.Protobuf.IDeepCloneable-1.html">IDeepCloneable</a>&lt;<a class="xref" href="Google.Cloud.Iam.V1.Policy.html">Policy</a>&gt;</div>
    <div><span class="xref">Google.Protobuf.IBufferMessage</span></div>
    <div><a class="xref" href="Google.Protobuf.IMessage.html">IMessage</a></div>
  </div>
  <div class="inheritedMembers">
    <h5>Inherited Members</h5>
    <div>
      <span class="xref">System.Object.GetHashCode()</span>
    </div>
    <div>
      <span class="xref">System.Object.GetType()</span>
    </div>
    <div>
      <span class="xref">System.Object.MemberwiseClone()</span>
    </div>
    <div>
      <span class="xref">System.Object.ToString()</span>
    </div>
  </div>
  <h6><strong>Namespace</strong>: <a class="xref" href="Google.Cloud.Iam.V1.html">Google.Cloud.Iam.V1</a></h6>
  <h6><strong>Assembly</strong>: Google.Cloud.Iam.V1.dll</h6>
  <h5 id="Google_Cloud_Iam_V1_Policy_syntax">Syntax</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public sealed class Policy : IMessage&lt;Policy&gt;, IEquatable&lt;Policy&gt;, IDeepCloneable&lt;Policy&gt;, IBufferMessage, IMessage</code></pre>
  </div>
  <h3 id="constructors">Constructors
  </h3>
  <a id="Google_Cloud_Iam_V1_Policy__ctor_" data-uid="Google.Cloud.Iam.V1.Policy.#ctor*"></a>
  <h4 id="Google_Cloud_Iam_V1_Policy__ctor" data-uid="Google.Cloud.Iam.V1.Policy.#ctor">Policy()</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Policy()</code></pre>
  </div>
  <a id="Google_Cloud_Iam_V1_Policy__ctor_" data-uid="Google.Cloud.Iam.V1.Policy.#ctor*"></a>
  <h4 id="Google_Cloud_Iam_V1_Policy__ctor_Google_Cloud_Iam_V1_Policy_" data-uid="Google.Cloud.Iam.V1.Policy.#ctor(Google.Cloud.Iam.V1.Policy)">Policy(Policy)</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Policy(Policy other)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Google.Cloud.Iam.V1.Policy.html">Policy</a></td>
        <td><span class="parametername">other</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h3 id="properties">Properties
  </h3>
  <a id="Google_Cloud_Iam_V1_Policy_Bindings_" data-uid="Google.Cloud.Iam.V1.Policy.Bindings*"></a>
  <h4 id="Google_Cloud_Iam_V1_Policy_Bindings" data-uid="Google.Cloud.Iam.V1.Policy.Bindings">Bindings</h4>
  <div class="markdown level1 summary"><p>Associates a list of <code>members</code> to a <code>role</code>. Optionally may specify a
<code>condition</code> that determines when binding is in effect.
<code>bindings</code> with no members will result in an error.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public RepeatedField&lt;Binding&gt; Bindings { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Google.Protobuf.Collections.RepeatedField-1.html">RepeatedField</a>&lt;<a class="xref" href="Google.Cloud.Iam.V1.Binding.html">Binding</a>&gt;</td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <a id="Google_Cloud_Iam_V1_Policy_Etag_" data-uid="Google.Cloud.Iam.V1.Policy.Etag*"></a>
  <h4 id="Google_Cloud_Iam_V1_Policy_Etag" data-uid="Google.Cloud.Iam.V1.Policy.Etag">Etag</h4>
  <div class="markdown level1 summary"><p><code>etag</code> is used for optimistic concurrency control as a way to help
prevent simultaneous updates of a policy from overwriting each other.
It is strongly suggested that systems make use of the <code>etag</code> in the
read-modify-write cycle to perform policy updates in order to avoid race
conditions: An <code>etag</code> is returned in the response to <code>getIamPolicy</code>, and
systems are expected to put that etag in the request to <code>setIamPolicy</code> to
ensure that their change will be applied to the same version of the policy.</p>
<p>If no <code>etag</code> is provided in the call to <code>setIamPolicy</code>, then the existing
policy is overwritten. Due to blind-set semantics of an etag-less policy,
&apos;setIamPolicy&apos; will not fail even if the incoming policy version does not
meet the requirements for modifying the stored policy.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public ByteString Etag { get; set; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Google.Protobuf.ByteString.html">ByteString</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <a id="Google_Cloud_Iam_V1_Policy_Version_" data-uid="Google.Cloud.Iam.V1.Policy.Version*"></a>
  <h4 id="Google_Cloud_Iam_V1_Policy_Version" data-uid="Google.Cloud.Iam.V1.Policy.Version">Version</h4>
  <div class="markdown level1 summary"><p>Specifies the format of the policy.</p>
<p>Valid values are 0, 1, and 3. Requests specifying an invalid value will be
rejected.</p>
<p>Operations affecting conditional bindings must specify version 3. This can
be either setting a conditional policy, modifying a conditional binding,
or removing a binding (conditional or unconditional) from the stored
conditional policy.
Operations on non-conditional policies may specify any valid value or
leave the field unset.</p>
<p>If no etag is provided in the call to <code>setIamPolicy</code>, version compliance
checks against the stored policy is skipped.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public int Version { get; set; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h3 id="methods">Methods
  </h3>
  <a id="Google_Cloud_Iam_V1_Policy_AddRoleMember_" data-uid="Google.Cloud.Iam.V1.Policy.AddRoleMember*"></a>
  <h4 id="Google_Cloud_Iam_V1_Policy_AddRoleMember_System_String_System_String_" data-uid="Google.Cloud.Iam.V1.Policy.AddRoleMember(System.String,System.String)">AddRoleMember(String, String)</h4>
  <div class="markdown level1 summary"><p>Adds the specified member to the specified role. If the role does
not already exist, it is created.
This method will fail with an <span class="xref">System.InvalidOperationException</span>
if it is called on a Policy with a <a class="xref" href="Google.Cloud.Iam.V1.Policy.html#Google_Cloud_Iam_V1_Policy_Version">Version</a> greater than 1,
or if any of the bindings contain conditions,
as that indicates a more complicated policy than this method is prepared
to handle. Changes to such policies must be made manually.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public bool AddRoleMember(string role, string member)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><span class="parametername">role</span></td>
        <td><p>The role to add the member to. Must not be null or empty.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><span class="parametername">member</span></td>
        <td><p>The member to add to the role. Must not be null or empty.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Boolean</span></td>
        <td><p><code>true</code> if the policy was changed; <code>false</code> if the member already existed in the role.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="exceptions">Exceptions</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Condition</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.InvalidOperationException</span></td>
        <td><p>The <a class="xref" href="Google.Cloud.Iam.V1.Policy.html#Google_Cloud_Iam_V1_Policy_Version">Version</a> is greater than 1.</p>
</td>
      </tr>
    </tbody>
  </table>
  <a id="Google_Cloud_Iam_V1_Policy_RemoveRoleMember_" data-uid="Google.Cloud.Iam.V1.Policy.RemoveRoleMember*"></a>
  <h4 id="Google_Cloud_Iam_V1_Policy_RemoveRoleMember_System_String_System_String_" data-uid="Google.Cloud.Iam.V1.Policy.RemoveRoleMember(System.String,System.String)">RemoveRoleMember(String, String)</h4>
  <div class="markdown level1 summary"><p>Removes the specified member to the specified role, if they belong to it. If the role becomes empty after
removing the member, it is removed from the policy.
This method will fail with an <span class="xref">System.InvalidOperationException</span>
if it is called on a Policy with a <a class="xref" href="Google.Cloud.Iam.V1.Policy.html#Google_Cloud_Iam_V1_Policy_Version">Version</a> greater than 1,
or if any of the bindings contain conditions,
as that indicates a more complicated policy than this method is prepared
to handle. Changes to such policies must be made manually.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public bool RemoveRoleMember(string role, string member)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><span class="parametername">role</span></td>
        <td><p>The role to remove the member from. Must not be null or empty.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.String</span></td>
        <td><span class="parametername">member</span></td>
        <td><p>The member to remove from the role. Must not be null or empty.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Boolean</span></td>
        <td><p><code>true</code> if the policy was changed; <code>false</code> if the member didn&apos;t exist in the role
    or the role didn&apos;t exist.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="exceptions">Exceptions</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Condition</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.InvalidOperationException</span></td>
        <td><p>The <a class="xref" href="Google.Cloud.Iam.V1.Policy.html#Google_Cloud_Iam_V1_Policy_Version">Version</a> is greater than 1.</p>
</td>
      </tr>
    </tbody>
  </table>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
             
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
